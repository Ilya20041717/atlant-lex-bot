# Деплой бота на Render.com (бесплатно)

**Render** — это хостинг, где можно бесплатно запустить фоновый воркер (вашего Telegram-бота). Код берётся из GitHub, переменные задаёте в веб-интерфейсе.

---

## Пошагово

### 1. Регистрация и репозиторий

- Зайдите на **[render.com](https://render.com)** и зарегистрируйтесь (удобно через GitHub).
- Убедитесь, что бот уже в GitHub: репозиторий **Ilya20041717/atlant-lex-bot**. Если Render привязан к тому же аккаунту GitHub — репо будет виден в списке.

### 2. Создать Background Worker

1. В Render нажмите **New +** → **Background Worker**.
2. В списке репозиториев выберите **atlant-lex-bot** (если нет — нажмите **Configure account** и дайте Render доступ к нужному репо).
3. Нажмите **Connect**.

### 3. Настройки сервиса

Заполните поля:

| Поле | Значение |
|------|----------|
| **Name** | Любое, например `atlant-lex-bot` |
| **Region** | Выберите ближайший (например Frankfurt) |
| **Branch** | `main` |
| **Runtime** | **Python 3** |
| **Build Command** | `pip install -r requirements.txt` |
| **Start Command** | `python -m app.main` |
| **Root Directory** | оставьте пустым (корень репо) |

### 4. Переменные окружения (Environment)

В блоке **Environment** нажмите **Add Environment Variable** и добавьте:

- **BOT_TOKEN** — токен от @BotFather (обязательно).

По желанию (скопируйте из вашего `.env`):

- **ADMIN_TG_IDS** — `654078115` (ваш Telegram ID для заявок).
- **OPENAI_API_KEY** — ключ OpenAI (если включён ИИ-консультант).
- **OPENAI_ASSISTANT_ID** — `asst_4KnF6O3l92sexVF0sW88kD5q`.
- **START_IMAGE_FILE_ID** — file_id картинки приветствия в Telegram.

### 5. План и деплой

- В **Plan** выберите **Free**.
- Нажмите **Create Background Worker**.

Render соберёт проект и запустит бота. В логах не должно быть ошибок — тогда бот уже отвечает в Telegram.

---

## Что это даёт

- **Background Worker** — это процесс, который просто крутится и обрабатывает сообщения (long polling). Идеально для Telegram-бота.
- **Бесплатный план** — воркер может «засыпать» после неактивности; при первом сообщении бот может ответить с задержкой (проснулся). Для постоянной работы без пауз есть платные планы.
- Ссылка для клиентов не меняется: **t.me/имя_вашего_бота**.

---

## Обновление бота

Внесли изменения в код → сделайте `git push` в репозиторий **atlant-lex-bot**. Render при желании можно настроить на автодеплой при push (по умолчанию часто уже включён). Тогда после push бот перезапустится с новым кодом.
